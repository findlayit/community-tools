<div class="container">

  <div *ngIf="forumGroup">

    <div class="row">
      <div class="col-xs-12">
        <h2 class="text-bblue2">
          {{forumGroup.Title}}
        </h2>
        <a href="javascript:void(0)" class="pull-right" (click)="changeNewForumVisible(true)" *ngIf="allowEdit"><i class="icon icon-plus"></i> New forum</a>
      </div>
    </div>

    <div class="row" *ngIf="newForumVisible">
      <div class="col-xs-12">

        <div class="panel panel-primary">
          <div class="panel-heading">
            <h4 class="title">New forum</h4>
          </div>
          <div class="panel-body">
            <div class="form">
              <div class="form-group">
                <label class="control-label" for="txtForumTitle">Title</label>
                <input type="text" class="form-control" id="txtForumTitle" name="txtForumTitle" [(ngModel)]="newForum.Title" />
              </div>
              <div class="form-group">
                <label class="control-label" for="txtForumDescription">Description</label>
                <textarea class="form-control" id="txtForumDescription" name="txtForumDescription" [(ngModel)]="newForum.Description"></textarea>
              </div>
              <div class="form-group">
                <button type="button" class="btn btn-primary" (click)="addForum()">Add</button>
                <button type="button" class="btn btn-default" (click)="changeNewForumVisible(false)">Cancel</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <table class="table table-striped table-responsive table-padded">
          <thead>
            <tr class="bblue">
              <th class="col-lg-8">
                Forums
              </th>
              <th class="col-lg-1 text-center">
                Threads
              </th>
              <th class="col-lg-1 text-center">
                Posts
              </th>
              <th class="col-lg-2">
                Last reply
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let forum of forumGroup.Forums">
              <td>
                <a href="javascript:void(0)" (click)="viewForum(forum)">{{forum.Title}}</a>
                <p>
                  {{forum.Description}}
                </p>
              </td>
              <td class="text-center">
                {{forum.ThreadCount}}
              </td>
              <td class="text-center">
                {{forum.PostCount}}
              </td>
              <td>
                <lastPost [dataItem]="forum.LastPost"></lastPost>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

  </div>

</div>
